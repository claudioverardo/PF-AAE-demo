#!/bin/bash
export AE_WORKSPACE_PATH=/path/to/workspace

# perform tracking of the rotation from a sequence of images
# for further details about the tracking interface cf. auto_pose/pf/pf_tracking_sequences.py

# example of tracking w/o prior knowledge about the dynamics

pf_tracking_sequences \
    -aae "aae/cracker" -aae_tl "aae_tl/cracker" -N 50 \
    -noise "{'type': 'unif-norm', 'sigma': 0.2}" \
    -gamma 100 -n_eff 1.0 \
    -aae_res "{'type': 'aae-tl', 'aae_resampling_proportion': 0.1, 'aae_resampling_knn': 300}" \
    -seq "seq=cracker1_fps=20.00_tlen=10.00_vel=30.00" \
    -fps 20

# example of tracking w/ prior knowledge about the dynamics

pf_tracking_sequences \
    -aae "aae/cracker" -aae_tl "aae_tl/cracker" -N 50 \
    -dyn "{'seq': 'cracker1', 'fps': 20, 'tlen': 10, 'vel': 30}" \
    -noise "{'type': 'unif-norm', 'sigma': 0.2}" \
    -gamma 100 -n_eff 1.0 \
    -aae_res "{'type': 'aae-tl', 'aae_resampling_proportion': 0.1, 'aae_resampling_knn': 300}" \
    -seq "seq=cracker1_fps=20.00_tlen=10.00_vel=30.00" \
    -fps 20

# the sequence being tracked is the one generated by the first script of pf_sequences
# i.e., pf_generate_sequences aae/cracker -params "{'seq': 'cracker1', 'fps': 20, 'tlen': 10, 'vel': 30}"
